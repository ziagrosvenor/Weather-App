doctype
html(ng-app="eventsApp")
	include head
	body
		section.page-wrapper(ng-controller="CommentsController")
			h2 There are {{comments.length}} comments
			span
				a(ng-click="removeComments()" href) Remove Comments	
			article.post(ng-repeat="comment in comments track by $index")
				label
					input(type="checkbox" ng-model="comment.selected")
					h3.post-heading {{comment.title}}
				a(ng-hide="editing" ng-click="editing = true") Edit Comment
				p {{comment.content}}
				form(ng-submit="updateComment($index)" ng-show="editing")
					input(type="text" ng-model="comment._id" ng-hide="true")
					label(for="name")
					input(type="text" ng-model="comment.title" id="name" placeholder="{{comment.title}}")
					label(for="commentText") Comment
					textarea( ng-model="comment.content" id="commentText" placeholder="{{comment.content}}") 
					input(type="submit" value="add" ng-click="editing = false")
			form(ng-submit="addComment()")
				label(for="name") Name
				input(type="text" ng-model="commentTitle" id="name")
				label(for="commentText") Comment
				textarea(ng-model="commentContent" id="commentText" placeholder="Add a comment")
				input(type="submit" value="add")
		script(src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js")
		script(src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular-resource.min.js")
		script(src="/js/app.js")
